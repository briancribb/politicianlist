!function(modules){var installedModules={};function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={i:moduleId,l:!1,exports:{}};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.l=!0,module.exports}__webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.d=function(exports,name,getter){__webpack_require__.o(exports,name)||Object.defineProperty(exports,name,{enumerable:!0,get:getter})},__webpack_require__.r=function(exports){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(exports,"__esModule",{value:!0})},__webpack_require__.t=function(value,mode){if(1&mode&&(value=__webpack_require__(value)),8&mode)return value;if(4&mode&&"object"==typeof value&&value&&value.__esModule)return value;var ns=Object.create(null);if(__webpack_require__.r(ns),Object.defineProperty(ns,"default",{enumerable:!0,value:value}),2&mode&&"string"!=typeof value)for(var key in value)__webpack_require__.d(ns,key,function(key){return value[key]}.bind(null,key));return ns},__webpack_require__.n=function(module){var getter=module&&module.__esModule?function getDefault(){return module.default}:function getModuleExports(){return module};return __webpack_require__.d(getter,"a",getter),getter},__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)},__webpack_require__.p="",__webpack_require__(__webpack_require__.s=0)}([function(module,exports,__webpack_require__){__webpack_require__(4),module.exports=__webpack_require__(1)},function(module,exports,__webpack_require__){var api=__webpack_require__(2),content=__webpack_require__(3);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){"use strict";var isOldIE=function isOldIE(){var memo;return function memorize(){return void 0===memo&&(memo=Boolean(window&&document&&document.all&&!window.atob)),memo}}(),getTarget=function getTarget(){var memo={};return function memorize(target){if(void 0===memo[target]){var styleTarget=document.querySelector(target);if(window.HTMLIFrameElement&&styleTarget instanceof window.HTMLIFrameElement)try{styleTarget=styleTarget.contentDocument.head}catch(e){styleTarget=null}memo[target]=styleTarget}return memo[target]}}(),stylesInDom=[];function getIndexByIdentifier(identifier){for(var result=-1,i=0;i<stylesInDom.length;i++)if(stylesInDom[i].identifier===identifier){result=i;break}return result}function modulesToDom(list,options){for(var idCountMap={},identifiers=[],i=0;i<list.length;i++){var item=list[i],id=options.base?item[0]+options.base:item[0],count=idCountMap[id]||0,identifier="".concat(id," ").concat(count);idCountMap[id]=count+1;var index=getIndexByIdentifier(identifier),obj={css:item[1],media:item[2],sourceMap:item[3]};-1!==index?(stylesInDom[index].references++,stylesInDom[index].updater(obj)):stylesInDom.push({identifier:identifier,updater:addStyle(obj,options),references:1}),identifiers.push(identifier)}return identifiers}function insertStyleElement(options){var style=document.createElement("style"),attributes=options.attributes||{};if(void 0===attributes.nonce){var nonce=__webpack_require__.nc;nonce&&(attributes.nonce=nonce)}if(Object.keys(attributes).forEach((function(key){style.setAttribute(key,attributes[key])})),"function"==typeof options.insert)options.insert(style);else{var target=getTarget(options.insert||"head");if(!target)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");target.appendChild(style)}return style}var replaceText=function replaceText(){var textStore=[];return function replace(index,replacement){return textStore[index]=replacement,textStore.filter(Boolean).join("\n")}}();function applyToSingletonTag(style,index,remove,obj){var css=remove?"":obj.media?"@media ".concat(obj.media," {").concat(obj.css,"}"):obj.css;if(style.styleSheet)style.styleSheet.cssText=replaceText(index,css);else{var cssNode=document.createTextNode(css),childNodes=style.childNodes;childNodes[index]&&style.removeChild(childNodes[index]),childNodes.length?style.insertBefore(cssNode,childNodes[index]):style.appendChild(cssNode)}}function applyToTag(style,options,obj){var css=obj.css,media=obj.media,sourceMap=obj.sourceMap;if(media?style.setAttribute("media",media):style.removeAttribute("media"),sourceMap&&btoa&&(css+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))))," */")),style.styleSheet)style.styleSheet.cssText=css;else{for(;style.firstChild;)style.removeChild(style.firstChild);style.appendChild(document.createTextNode(css))}}var singleton=null,singletonCounter=0;function addStyle(obj,options){var style,update,remove;if(options.singleton){var styleIndex=singletonCounter++;style=singleton||(singleton=insertStyleElement(options)),update=applyToSingletonTag.bind(null,style,styleIndex,!1),remove=applyToSingletonTag.bind(null,style,styleIndex,!0)}else style=insertStyleElement(options),update=applyToTag.bind(null,style,options),remove=function remove(){!function removeStyleElement(style){if(null===style.parentNode)return!1;style.parentNode.removeChild(style)}(style)};return update(obj),function updateStyle(newObj){if(newObj){if(newObj.css===obj.css&&newObj.media===obj.media&&newObj.sourceMap===obj.sourceMap)return;update(obj=newObj)}else remove()}}module.exports=function(list,options){(options=options||{}).singleton||"boolean"==typeof options.singleton||(options.singleton=isOldIE());var lastIdentifiers=modulesToDom(list=list||[],options);return function update(newList){if(newList=newList||[],"[object Array]"===Object.prototype.toString.call(newList)){for(var i=0;i<lastIdentifiers.length;i++){var index=getIndexByIdentifier(lastIdentifiers[i]);stylesInDom[index].references--}for(var newLastIdentifiers=modulesToDom(newList,options),_i=0;_i<lastIdentifiers.length;_i++){var _index=getIndexByIdentifier(lastIdentifiers[_i]);0===stylesInDom[_index].references&&(stylesInDom[_index].updater(),stylesInDom.splice(_index,1))}lastIdentifiers=newLastIdentifiers}}}},function(module,exports,__webpack_require__){},function(module,__webpack_exports__,__webpack_require__){"use strict";function tmc_throttle(delay,fn){var lastCall=0;return function(){var now=(new Date).getTime();if(!(now-lastCall<delay))return lastCall=now,fn.apply(void 0,arguments)}}function tmc_debounce(delay,fn){var timerId;return function(){for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];timerId&&clearTimeout(timerId),timerId=setTimeout((function(){fn.apply(void 0,args),timerId=null}),delay)}}__webpack_require__.r(__webpack_exports__);var states_hash={AL:"Alabama",AK:"Alaska",AS:"American Samoa",AZ:"Arizona",AR:"Arkansas",CA:"California",CO:"Colorado",CT:"Connecticut",DE:"Delaware",DC:"District Of Columbia",FM:"Federated States Of Micronesia",FL:"Florida",GA:"Georgia",GU:"Guam",HI:"Hawaii",ID:"Idaho",IL:"Illinois",IN:"Indiana",IA:"Iowa",KS:"Kansas",KY:"Kentucky",LA:"Louisiana",ME:"Maine",MH:"Marshall Islands",MD:"Maryland",MA:"Massachusetts",MI:"Michigan",MN:"Minnesota",MS:"Mississippi",MO:"Missouri",MT:"Montana",NE:"Nebraska",NV:"Nevada",NH:"New Hampshire",NJ:"New Jersey",NM:"New Mexico",NY:"New York",NC:"North Carolina",ND:"North Dakota",MP:"Northern Mariana Islands",OH:"Ohio",OK:"Oklahoma",OR:"Oregon",PW:"Palau",PA:"Pennsylvania",PR:"Puerto Rico",RI:"Rhode Island",SC:"South Carolina",SD:"South Dakota",TN:"Tennessee",TX:"Texas",UT:"Utah",VT:"Vermont",VI:"Virgin Islands",VA:"Virginia",WA:"Washington",WV:"West Virginia",WI:"Wisconsin",WY:"Wyoming"};function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?_assertThisInitialized(self):call}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}var RC=function components(POL){var RC={init:function(){POL.stuff()}};return RC.memberList=function(_React$Component){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(_class,React.Component);var _super=_createSuper(_class);function _class(props){var _this;return function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,_class),(_this=_super.call(this,props)).state={members:_this.props.members,filters:{},sortBy:"last_name",modalView:"filters"},_this._assembleFilters=_this._assembleFilters.bind(_assertThisInitialized(_this)),_this._setFilters=_this._setFilters.bind(_assertThisInitialized(_this)),_this._passedFilters=_this._passedFilters.bind(_assertThisInitialized(_this)),_this._getIconClass=_this._getIconClass.bind(_assertThisInitialized(_this)),_this.sortMembersArray=_this.sortMembersArray.bind(_assertThisInitialized(_this)),_this._getMemberItems=_this._getMemberItems.bind(_assertThisInitialized(_this)),_this._handleLaunchModal=_this._handleLaunchModal.bind(_assertThisInitialized(_this)),_this._getFilterContent=_this._getFilterContent.bind(_assertThisInitialized(_this)),_this._getSortingContent=_this._getSortingContent.bind(_assertThisInitialized(_this)),console.log("RC.memberList",_assertThisInitialized(_this)),_this}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(_class,[{key:"componentDidMount",value:function componentDidMount(){this._setFilters(),this.setState({filters:this._assembleFilters()})}},{key:"_assembleFilters",value:function _assembleFilters(){var objTags={next_election:{},party_name:{},chamber:{Senate:!1,House:!1}};return this.state.members.forEach((function(member){member.next_election&&!objTags.hasOwnProperty(member.next_election)&&(objTags.next_election[member.next_election]=!1),member.party_name&&!objTags.hasOwnProperty(member.party_name)&&(objTags.party_name[member.party_name]=!1)})),objTags}},{key:"_setFilters",value:function _setFilters(newFilters){this.setState({filters:newFilters})}},{key:"_passedFilters",value:function _passedFilters(member){return!0}},{key:"_getIconClass",value:function _getIconClass(party){var objClasses={R:"fas fa-republican",D:"fas fa-democrat",I:"fas fa-flag-usa"};return objClasses[party]||objClasses.I}},{key:"sortMembersArray",value:function sortMembersArray(){var property=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"last_name";this.state.members.sort((function(a,b){var itemA=a[property].toUpperCase(),itemB=b[property].toUpperCase();return itemA<itemB?-1:itemA>itemB?1:0}))}},{key:"_getMemberItems",value:function _getMemberItems(){var _this2=this;arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.sortMembersArray();var members=this.state.members;return!!this._passedFilters()&&members.map((function(member){var partyColor="success";switch(member.party){case"R":partyColor="danger";break;case"D":partyColor="primary"}return React.createElement("div",{className:"card mb-3 border border-"+partyColor,key:member.id},React.createElement("div",{className:"card-header bg-"+partyColor+" text-white d-flex justify-content-between"},React.createElement("div",null,React.createElement("i",{className:_this2._getIconClass(member.party)+" mr-2"}),member.party_name),React.createElement("div",null,React.createElement("strong",null,member.next_election))),React.createElement("div",{className:"card-body"},React.createElement("h5",{className:"card-title"},member.short_title+" "+member.first_name+" "+member.last_name),React.createElement("p",{className:"mb-0"},member.state_name)))}))}},{key:"_handleLaunchModal",value:function _handleLaunchModal(evt){this.setState({modalView:evt.target.dataset.view}),$("#myModal").modal("show"),console.log("_handleLaunchModal()",evt.target.dataset.view)}},{key:"_getFilterContent",value:function _getFilterContent(){return React.createElement("div",{className:"modal-body"},React.createElement("p",null,"Filter by political party, election year or chamber. Keep in mind that the House comes up every two years, so election years automatically filter down to the Senate."),React.createElement("div",{className:"d-flex flex-wrap flex-sm-nowrap justify-content-center"},React.createElement("button",{type:"button",className:"d-inline-block btn btn-light flex-fill border border-dark m-1"},"Senate"),React.createElement("button",{type:"button",className:"d-inline-block btn btn-light flex-fill border border-dark m-1"},"House")),React.createElement("div",{className:"d-flex flex-wrap flex-sm-nowrap justify-content-center"},React.createElement("button",{type:"button",className:"d-inline-block btn btn-light flex-fill border border-dark m-1"},"Republican"),React.createElement("button",{type:"button",className:"d-inline-block btn btn-light flex-fill border border-dark m-1"},"Democrat"),React.createElement("button",{type:"button",className:"d-inline-block btn btn-light flex-fill border border-dark m-1"},"Independent")),React.createElement("div",{className:"d-flex flex-wrap flex-sm-nowrap justify-content-center"},React.createElement("button",{type:"button",className:"d-inline-block btn btn-light flex-fill border border-dark m-1"},"2020"),React.createElement("button",{type:"button",className:"d-inline-block btn btn-light flex-fill border border-dark m-1"},"2022"),React.createElement("button",{type:"button",className:"d-inline-block btn btn-light flex-fill border border-dark m-1"},"2024"),React.createElement("button",{type:"button",className:"d-inline-block btn btn-light flex-fill border border-dark m-1"},"2024")))}},{key:"_getSortingContent",value:function _getSortingContent(){return React.createElement("div",{className:"modal-body"},React.createElement("p",null,"Sort the members list by a chosen property."),React.createElement("div",{className:"d-flex flex-wrap flex-sm-nowrap justify-content-center"},React.createElement("button",{type:"button",className:"d-inline-block btn btn-light flex-fill border border-dark m-1"},"First Name"),React.createElement("button",{type:"button",className:"d-inline-block btn btn-light flex-fill border border-dark m-1"},"Last Name"),React.createElement("button",{type:"button",className:"d-inline-block btn btn-light flex-fill border border-dark m-1"},"Chamber")),React.createElement("div",{className:"d-flex flex-wrap flex-sm-nowrap justify-content-center"},React.createElement("button",{type:"button",className:"d-inline-block btn btn-light flex-fill border border-dark m-1"},"Age"),React.createElement("button",{type:"button",className:"d-inline-block btn btn-light flex-fill border border-dark m-1"},"Seniority"),React.createElement("button",{type:"button",className:"d-inline-block btn btn-light flex-fill border border-dark m-1"},"Next Election")))}},{key:"render",value:function render(){var modalMarkup="filters"===this.state.modalView?this._getFilterContent():this._getSortingContent(),title="filters"===this.state.modalView?"Filters":"Sorting";return React.createElement("div",{className:"container pt-3"},React.createElement("div",{className:"row"},React.createElement("div",{className:"col"},React.createElement("div",{className:"btn-group btn-group-lg w-100 mb-3",role:"group","aria-label":"Basic example"},React.createElement("button",{type:"button",className:"d-inline-block btn btn-light flex-fill border border-dark w-50","data-view":"filters",onClick:this._handleLaunchModal},"Filters"),React.createElement("button",{type:"button",className:"d-inline-block btn btn-light flex-fill border border-dark w-50","data-view":"sorting",onClick:this._handleLaunchModal},"Sorting")))),React.createElement("div",{className:"row"},React.createElement("div",{className:"col"},this._getMemberItems("both"))),React.createElement("div",{className:"modal fade",id:"myModal",tabIndex:"-1",role:"dialog","aria-labelledby":"myModalLabel","aria-hidden":"true"},React.createElement("div",{className:"modal-dialog"},React.createElement("div",{className:"modal-content"},React.createElement("div",{className:"modal-header"},React.createElement("h5",{className:"modal-title",id:"myModalLabel"},title),React.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},React.createElement("span",{"aria-hidden":"true"},"Ã—"))),modalMarkup))))}}]),_class}(),RC}(),POL={congress:116,stuff:function stuff(){console.log("Called from the components module!",this)},init:function init(){var _this=this;this.utils=function setupUtils(){!function tmc_RAF(){window.requestAnimFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(callback){window.setTimeout(callback,1e3/60)}}();var ut=function tmc_documentHidden(){var tmc={};return void 0!==document.hidden?(tmc.hidden="hidden",tmc.visibilityChange="visibilitychange",tmc.visibilityState="visibilityState"):void 0!==document.mozHidden?(tmc.hidden="mozHidden",tmc.visibilityChange="mozvisibilitychange",tmc.visibilityState="mozVisibilityState"):void 0!==document.msHidden?(tmc.hidden="msHidden",tmc.visibilityChange="msvisibilitychange",tmc.visibilityState="msVisibilityState"):void 0!==document.webkitHidden&&(tmc.hidden="webkitHidden",tmc.visibilityChange="webkitvisibilitychange",tmc.visibilityState="webkitVisibilityState"),tmc.document_hidden=document[tmc.hidden],tmc}();return ut.trans_end=function tmc_transEnd(){var end,st=document.body.style;return void 0!==st.transition?end="transitionend":void 0!==st.OTransition?end="oTransitionEnd":void 0!==st.MozTransition?end="transitionend":void 0!==st.WebkitTransition&&(end="webkitTransitionEnd"),end}(),ut.throttle=tmc_throttle,ut.debounce=tmc_debounce,ut}();var housePromise=new Promise((function(resolve,reject){_this.getData(_this.congress,"house").then((function(data){resolve(updateMembers(data.results[0]))}))})),senatePromise=new Promise((function(resolve,reject){_this.getData(_this.congress,"senate").then((function(data){resolve(updateMembers(data.results[0]))}))})),reducer=function reducer(accumulator,currentValue){currentValue>accumulator&&(accumulator=currentValue);var accDate=accumulator?new Date(accumulator.last_updated):null;return new Date(currentValue.last_updated).getTime()>accDate.getTime()&&(accumulator=currentValue),accumulator};function updateMembers(obj){var objParties={R:"Republican",D:"Democrat",I:"Independent"},updatedMembers=[],objDoubles={},everyone=obj.members.filter((function(item){return!0===item.in_office}));return everyone.forEach((function(member){member.party_name=objParties[member.party]||"Independent",member.state_name=states_hash[member.state],member.chamber=obj.chamber,everyone.filter((function(m){return m.id===member.id})).length>1?(objDoubles[member.id]=objDoubles[member.id]||[],objDoubles[member.id].push(member)):updatedMembers.push(member)})),Object.keys(objDoubles).forEach((function(id){updatedMembers.push(objDoubles[id].reduce(reducer))})),updatedMembers}Promise.all([housePromise,senatePromise]).then((function(allResults){console.log("allResults",allResults),ReactDOM.render(React.createElement(RC.memberList,{members:allResults[0].concat(allResults[1])}),document.getElementById("app"))}))},getAllMembers:function getAllMembers(){return this.senate.members.concat(this.house.members)},getData:function getData(congress,chamber){return $.ajax({url:"https://api.propublica.org/congress/v1/".concat(congress,"/").concat(chamber,"/members.json"),beforeSend:function beforeSend(xhr){xhr.setRequestHeader("X-API-Key","mQSfoVKW5dWSJXfcHtxSAXFneRkyGqnBzmrp4jLx")}})},utils:{}};$(document).ready((function(){POL.init()}))}]);